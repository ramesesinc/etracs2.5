<?xml version="1.0" encoding="UTF-8"?>
<workunit>
    <invokers>
        <invoker type="contact:create" caption="Contact Information (New)" target="popup"/>
        <invoker type="contact:edit" action="edit" caption="Contact Information" target="popup" />
    </invokers>
    <code>
        <![CDATA[
            import com.rameses.rcp.common.*
            import com.rameses.rcp.annotations.*
            import com.rameses.osirsi2.client.*
            import com.rameses.osiris2.common.*
            
            class ContactCreateController
            {
                def addHandler       //handler
                def onupdate    //handler
                def contact = [:]
                def mode = 'create'
                
                void edit(){ mode = 'edit' }
                
                def cancel() { return '_close' }
                
                def save() {
                    if( mode == 'create' && addHandler ) addHandler( contact )
                    else if( mode == 'edit' && onupdate ) onupdate( contact )
                    return '_close' 
                }
                
                def contactTypes = LOV.CONTACT_TYPES
            }
        ]]>
    </code>
    <pages>
        <page template="com.rameses.enterprise.entity.ui.EntityContactPage"/>
    </pages>
</workunit>