<workunit extends="wtemplates/LookupController.xml">
    <invokers>
        <invoker type="route:lookup" caption="Route Lookup" target="popup" />
    </invokers>
    
    <code>
        <![CDATA[
            import com.rameses.rcp.common.*
            import com.rameses.rcp.annotations.*
            import com.rameses.osiris2.client.*
            import com.rameses.osiris2.common.*
            
            class RouteLookupController extends LookupController
            {
                @Service('MTOPRouteLookupService')
                def svc
                
                def searchtext
                Column[] getColumns() {
                    return [
                        new Column(name:"code", caption:"Code"),
                        new Column(name:"description", caption:"Description")
                    ]
                }
                
                List fetchList( Map params ) {
                    params.searchtext = searchtext
                    return svc.getList( params )
                }
            }
        ]]>
    </code>
</workunit>