<workunit>
    <invokers>
        <invoker type="home.action" caption="Business Renewal"  action="start" target="window"  role="BUSINESSINFO,LICENSING"/>
        <invoker type="extActions" caption="Continue" action="openApplication"  visibleWhen="#{state == 'save-success'}"/>
    </invokers>
    
    <code class="com.rameses.gov.etracs.bpls.application.BPRenewalApplication" />
    
    <pageflow>
        <start>
            <transition to="search-business" name="create"/>
        </start>
        
        <page name="search-business" title="Search Business (Renewal Application)">
            <transition to="end" caption="Close" />
            <transition to="update-app-info" caption="Next" mnemonic="N"  immediate="false" action="openApplicationForRenewal"/>
        </page>
        
        <page name="update-app-info" title="Update Business Information (Renewal Application)">
            <transition to="search-business" caption="Back" mnemonic="B" name="back"/>
            <transition to="update-lob" caption="Next" name="next" mnemonic="N"/>
        </page>
        
        <page name="update-lob" title="Specify Line of Business (New Application)">
            <transition to="update-app-info" caption="Back" mnemonic="B" name="back"/>
            <transition to="update-assessment-info" caption="Next" name="next" mnemonic="N" action="verifyLOB" />
        </page>
        
        <page name="update-assessment-info" title="Specify Assessment Information (Renewal Application)" >
            <transition to="update-lob" caption="Back" mnemonic="B" name="back" />
            <transition to="confirm" caption="Next" name="next" mnemonic="N"  action="verifyAssessmentInfo"/>
        </page>
        
        <page name="confirm" title="Confirm (Renewal Application)">
            <transition to="update-assessment-info" caption="Back" mnemonic="B" name="back"/>
            <transition to="save-success" caption="Save" mnemonic="S" name="save" action="saveCreate"
            confirm="You are about to save this transaction. Continue?"/>
        </page>
        
        <page name="save-success" title="Save Success (Renewal Application)">
            <transition to="search-business" caption="Add Another" mnemonic="A" />
        </page>


        <end/>
    </pageflow>
    <pages>
        <page name="search-business" template="com.rameses.gov.etracs.bpls.application.SearchBusinessForRenewal"/>
        <page name="update-app-info" template="com.rameses.gov.etracs.bpls.application.UpdateAppInfoPage"/>
        <page name="update-lob" template="com.rameses.gov.etracs.bpls.application.SpecifyLOBPage"/>
        <page name="update-assessment-info" template="com.rameses.gov.etracs.bpls.application.UpdateAssessmentInfoPage"/>
        <page name="late-renewal" template="com.rameses.gov.etracs.bpls.application.UpdateLateRenewalPage"/>
        <page name="confirm" template="com.rameses.gov.etracs.bpls.application.ViewApplicationInfoPage"/>
        <page name="save-success" template="com.rameses.gov.etracs.bpls.application.SuccessPage"/>
    </pages>
    
</workunit>