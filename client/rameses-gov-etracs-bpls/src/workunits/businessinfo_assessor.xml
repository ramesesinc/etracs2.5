<workunit>
    
    <invokers>
        <invoker type="business:info" caption="Assessors Office" index="50"/>
    </invokers>
    
    <code>
        <![CDATA[    
        import com.rameses.rcp.annotations.*
        import com.rameses.rcp.common.*
        import com.rameses.osiris2.client.*
        import com.rameses.osiris2.common.*
        import java.rmi.server.*;
        import com.rameses.gov.etracs.bpls.application.*;
        
        class BusinessInfoAssessorController {
        
            @Service("BusinessInfoService")
            def svc;
            
            @Binding
            def binding;
        
            def entity;
            
            def updatePIN() {
                MsgBox.alert("enter pin for " + entity.appno );
                def o = MsgBox.prompt("Enter PIN");
                if(o) {
                    svc.updatePIN( [objid:entity.objid, pin:o] );
                    entity.pin = o;
                    MsgBox.alert("PIN successfully updated");
                    binding.refresh();
                }
            }
            
        }
        ]]>
        
    </code>
    
</workunit>