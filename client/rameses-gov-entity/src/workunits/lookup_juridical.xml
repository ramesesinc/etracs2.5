<?xml version="1.0" encoding="UTF-8"?>
<workunit extends="wtemplates/LookupController.xml">
    <invokers>
        <invoker type="juridical:lookup" caption="Juridical Lookup" target="popup"/>
    </invokers>
    <code>
        <![CDATA[
            import com.rameses.rcp.common.*
            import com.rameses.rcp.annotations.*
            import com.rameses.osiris2.client.*
            import com.rameses.osiris2.common.*
            
            class EntityJuridicalLookupController extends LookupController {
                @Service('EntityJuridicalListService')
                def svc
                
                def searchtext                
                Column[] getColumns() {
                    return [
                        new Column(name:'entityno', caption:'Entity No.'),
                        new Column(name:'name', caption:'Entity Name'),
                        new Column(name:'address', caption:'Entity Address')
                    ]
                }
                
                List fetchList(Map params) {
                    params.searchtext = searchtext
                    return svc.getList( params )
                }
            }
        ]]>
    </code>
</workunit>