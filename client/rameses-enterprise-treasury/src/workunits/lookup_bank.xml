<?xml version="1.0" encoding="UTF-8"?>
<workunit extends="wtemplates/LookupController.xml">
    <invokers>
        <invoker type="bank:lookup" caption="Bank Lookup" target="popup"/>
    </invokers>
    <code>
        <![CDATA[
            import com.rameses.rcp.common.*
            import com.rameses.rcp.annotations.*
            import com.rameses.osiris2.client.*
            import com.rameses.osiris2.common.*
            
            class BankLookupController extends LookupController {
                @Service('BankListService')
                def svc
                
                def searchtext
                Column[] getColumns() {
                    return [
                        new Column(name:'code', caption:'Bank Code'),
                        new Column(name:'name', caption:'Bank Name'),
                        new Column(name:'brachname', caption:'Branch Name')
                    ]
                }
                
                List fetchList(Map params) {
                    params.searchtext = searchtext
                    return svc.getList( params )
                }
            }
        ]]>
    </code>
</workunit>
