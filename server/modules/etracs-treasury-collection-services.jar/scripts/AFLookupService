import com.rameses.common.*
import com.rameses.annotations.*

class AFLookupService
{
	@PersistenceContext('main')
	def em
	
	@ProxyMethod
	public def getList( params ) {
		params.searchtext = (params.searchtext? params.searchtext+'%':'%')
		params.objid = params.searchtext
		
		def qry = em.sqlContext.createNamedQuery('af:getList')
		if( params ) {
			qry.setParameters(params)
			if( params._start ) qry.setFirstResult(params._start)
			if( params._limit ) qry.setMaxResults(params._limit)
		}
		return qry.resultList
	}
}