import com.rameses.annotations.*
import com.rameses.common.*
import java.rmi.server.UID

class RPTBillingTaks {

	@PersistenceContext('system')
	def em

	@Service('RPTBillingService')
	def svc 
	
	@Schedule(interval=360000)
	public def recalcBilling(task) {
		def bill = svc.initBill()
		def ledgers = svc.getLedgersToRecalc(500)
		ledgers.each{
			svc.calculateBillByLedgerIdAsync(it.objid)
		}
	}	
}

